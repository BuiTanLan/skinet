"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[219],{8219:(nt,_,c)=>{c.r(_),c.d(_,{AdminModule:()=>ot});var p=c(9808),C=c(4466),t=c(4893),f=c(3412),x=c(2340),m=c(520);let g=(()=>{class o{constructor(e){this.http=e,this.baseUrl=x.N.apiUrl}createProduct(e){return this.http.post(this.baseUrl+"products",e)}updateProduct(e,n){return this.http.put(this.baseUrl+"products/"+n,e)}deleteProduct(e){return this.http.delete(this.baseUrl+"products/"+e)}uploadImage(e,n){const r=new FormData;return r.append("photo",e,"image.png"),this.http.put(this.baseUrl+"products/"+n+"/photo",r,{reportProgress:!0,observe:"events"})}deleteProductPhoto(e,n){return this.http.delete(this.baseUrl+"products/"+n+"/photo/"+e)}setMainPhoto(e,n){return this.http.post(this.baseUrl+"products/"+n+"/photo/"+e,{})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=c(383),T=c(1654),y=c(6241);const M=function(o){return["edit",o]};function F(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",18),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",12),t._UZ(5,"img",19),t.qZA()(),t.TgZ(6,"th",18)(7,"h5"),t._uU(8),t.qZA()(),t.TgZ(9,"td",18),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"td",18)(13,"button",20),t._uU(14,"Edit"),t.qZA()(),t.TgZ(15,"td",18)(16,"button",21),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw(2).deleteProduct(d.id)}),t._uU(17,"Delete"),t.qZA()()()}if(2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(3),t.s9C("src",e.pictureUrl||"/assets/images/placeholder.png",t.LSH),t.s9C("alt",e.name),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(11,6,e.price)),t.xp6(3),t.Q6J("routerLink",t.VKq(8,M,e.id))}}function U(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",22)(1,"app-pager",23),t.NdJ("pageChanged",function(r){return t.CHM(e),t.oxw(2).onPageChanged(r)}),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("pageIndex",e.shopParams.pageNumber)("totalCount",e.totalCount)}}const q=function(){return["/admin/create"]};function J(o,i){if(1&o&&(t.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"header",6),t._uU(6,"Product List"),t.qZA(),t.TgZ(7,"button",7),t._uU(8,"Create new product"),t.qZA()(),t._UZ(9,"app-paging-header",8),t.TgZ(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11)(15,"div",12),t._uU(16,"Id"),t.qZA()(),t.TgZ(17,"th",11)(18,"div",13),t._uU(19,"Product"),t.qZA()(),t.TgZ(20,"th",11)(21,"div",14),t._uU(22,"Name"),t.qZA()(),t.TgZ(23,"th",11)(24,"div",15),t._uU(25,"Price"),t.qZA()(),t.TgZ(26,"th",11)(27,"div",15),t._uU(28,"Edit"),t.qZA()(),t.TgZ(29,"th",11)(30,"div",15),t._uU(31,"Delete"),t.qZA()()()(),t.TgZ(32,"tbody"),t.YNc(33,F,18,10,"tr",16),t.qZA()()(),t.YNc(34,U,2,3,"div",17),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("routerLink",t.DdM(6,q)),t.xp6(2),t.Q6J("totalCount",e.totalCount)("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber),t.xp6(24),t.Q6J("ngForOf",e.products),t.xp6(1),t.Q6J("ngIf",e.totalCount>0)}}let E=(()=>{class o{constructor(e,n){this.shopService=e,this.adminService=n,this.products={},this.totalCount=0,this.shopParams=this.shopService.getShopParams()}ngOnInit(){this.getProducts()}getProducts(e=!1){this.shopService.getProducts(e).subscribe({next:n=>{this.products=n.data,this.totalCount=n.count},error:n=>{console.log(n)}})}onPageChanged(e){const n=this.shopService.getShopParams();n.pageNumber!==e&&(n.pageNumber=e,this.shopService.setShopParams(n),this.getProducts(!0))}deleteProduct(e){this.adminService.deleteProduct(e).subscribe(()=>{this.products.splice(this.products.findIndex(n=>n.id===e),1),this.totalCount--})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.d),t.Y36(g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin"]],decls:1,vars:1,consts:[["class","admin-page",4,"ngIf"],[1,"admin-page"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"d-flex","justify-content-between","my-3"],[1,"h2"],[1,"btn","btn-outline-success",3,"routerLink"],[3,"totalCount","pageSize","pageNumber"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"p-2"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[1,"p-2","px-3","text-uppercase"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"align-middle"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"],[1,"btn","btn-warning",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-center"],[3,"pageSize","pageIndex","totalCount","pageChanged"]],template:function(e,n){1&e&&t.YNc(0,J,35,7,"section",0),2&e&&t.Q6J("ngIf",n.products)},directives:[p.O5,l.rH,T.U,p.sg,y.P],pipes:[p.H9],styles:[""]}),o})();var N=c(4128);class v{constructor(i){this.name="",this.description="",this.price=0,this.pictureUrl="",this.productBrandId=0,this.productTypeId=0,Object.assign(this,i)}}var b=c(1793),a=c(3075),S=c(5835);function I(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Product Name is required "),t.qZA())}function w(o,i){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,I,2,0,"div",22),t.qZA()),2&o){t.oxw();const e=t.MAs(7);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function Q(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price is required "),t.qZA())}function O(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price needs to be decimal value "),t.qZA())}function Y(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price must be greater than zero "),t.qZA())}function j(o,i){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,Q,2,0,"div",22),t.YNc(2,O,2,0,"div",22),t.YNc(3,Y,2,0,"div",22),t.qZA()),2&o){t.oxw();const e=t.MAs(13);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.min)}}function k(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1," Product price is required "),t.qZA())}function z(o,i){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,k,2,0,"div",22),t.qZA()),2&o){t.oxw();const e=t.MAs(21);t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function B(o,i){if(1&o&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&o){const e=i.$implicit,n=t.oxw();t.Q6J("selected",n.product.productBrandId===e.id)("ngValue",e.id),t.xp6(1),t.Oqu(e.name)}}function H(o,i){if(1&o&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&o){const e=i.$implicit,n=t.oxw();t.Q6J("selected",n.product.productTypeId===e.id)("ngValue",e.id),t.xp6(1),t.hij(" ",e.name,"")}}const h=function(o){return{"is-invalid":o}};let L=(()=>{class o{constructor(e,n,r){this.route=e,this.adminService=n,this.router=r,this.product=new v,this.brands=[],this.types=[],this.min=1}onSubmit(e){if("edit"===this.route.snapshot.url[0].path){const n=Object.assign(Object.assign(Object.assign({},this.product),e),{price:+e.price});this.adminService.updateProduct(n,Number(this.route.snapshot.paramMap.get("id"))).subscribe(()=>{this.router.navigate(["/admin"])})}else{const n=Object.assign(Object.assign({},e),{price:+e.price});this.adminService.createProduct(n).subscribe(()=>{this.router.navigate(["/admin"])})}}updatePrice(e){this.product.price=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(g),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-product-form"]],inputs:{product:"product",brands:"brands",types:"types"},decls:36,vars:23,consts:[[1,"mt-4",3,"ngSubmit"],["productForm","ngForm"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["required","","type","text","id","name","placeholder","Product Name","name","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","price"],["required","","type","text","id","price","placeholder","Price","currencyMask","","name","price","pattern","^\\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\\.[0-9][0-9])?$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["price","ngModel"],[1,"form-group","col-md-12"],["for","description"],["required","","id","description","name","description","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["description","ngModel"],["for","brand"],["id","brand","name","productBrandId","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["for","type"],["id","type","name","productTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","my-3","float-right",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"selected","ngValue"]],template:function(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(r);const s=t.MAs(1);return n.onSubmit(s.valid&&s.value)}),t.TgZ(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5,"Product Name"),t.qZA(),t.TgZ(6,"input",5,6),t.NdJ("ngModelChange",function(s){return n.product.name=s}),t.qZA(),t.YNc(8,w,2,1,"div",7),t.qZA(),t.TgZ(9,"div",3)(10,"label",8),t._uU(11,"Price"),t.qZA(),t.TgZ(12,"input",9,10),t.NdJ("ngModelChange",function(s){return n.updatePrice(+s)}),t.ALo(14,"number"),t.qZA(),t.YNc(15,j,4,3,"div",7),t.qZA()(),t.TgZ(16,"div",2)(17,"div",11)(18,"label",12),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"textarea",13,14),t.NdJ("ngModelChange",function(s){return n.product.description=s}),t.qZA(),t.YNc(22,z,2,1,"div",7),t.qZA()(),t.TgZ(23,"div",2)(24,"div",3)(25,"label",15),t._uU(26,"Brand"),t.qZA(),t.TgZ(27,"select",16),t.NdJ("ngModelChange",function(s){return n.product.productBrandId=s}),t.YNc(28,B,2,3,"option",17),t.qZA()(),t.TgZ(29,"div",3)(30,"label",18),t._uU(31,"Type"),t.qZA(),t.TgZ(32,"select",19),t.NdJ("ngModelChange",function(s){return n.product.productTypeId=s}),t.YNc(33,H,2,3,"option",17),t.qZA()()(),t.TgZ(34,"button",20),t._uU(35,"Submit"),t.qZA()()}if(2&e){const r=t.MAs(1),d=t.MAs(7),s=t.MAs(13),u=t.MAs(21);t.xp6(6),t.Q6J("ngClass",t.VKq(17,h,d.invalid&&(d.dirty||d.touched)))("ngModel",n.product.name),t.xp6(2),t.Q6J("ngIf",d.invalid&&(d.dirty||d.touched)),t.xp6(4),t.Q6J("ngClass",t.VKq(19,h,s.invalid&&(s.dirty||s.touched)))("ngModel",t.xi3(14,14,+n.product.price,"1.2-2")),t.xp6(3),t.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),t.xp6(5),t.Q6J("ngClass",t.VKq(21,h,u.invalid&&(u.dirty||u.touched)))("ngModel",n.product.description),t.xp6(2),t.Q6J("ngIf",u.invalid&&(u.dirty||u.touched)),t.xp6(5),t.Q6J("ngModel",n.product.productBrandId),t.xp6(1),t.Q6J("ngForOf",n.brands),t.xp6(4),t.Q6J("ngModel",n.product.productTypeId),t.xp6(1),t.Q6J("ngForOf",n.types),t.xp6(1),t.Q6J("disabled",!r.valid)}},directives:[a._Y,a.JL,a.F,a.Fj,a.Q7,p.mk,a.JJ,a.On,p.O5,S.g1,a.c5,a.EJ,p.sg,a.YN,a.Kr],pipes:[p.JJ],styles:[""]}),o})();var V=c(2290),A=c(3877),P=c(1095);function W(o,i){if(1&o){const e=t.EpF();t.ynx(0),t._UZ(1,"img",7),t.TgZ(2,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onUpload()}),t._uU(3," Upload Image "),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.croppedImage,t.LSH)}}let R=(()=>{class o{constructor(){this.addFile=new t.vpe,this.files=[],this.imageChangedEvent="",this.croppedImage=null}fileChangeEvent(e){this.imageChangedEvent=e}imageCropped(e){var n;this.croppedImage=null!==(n=e.base64)&&void 0!==n?n:null}onSelect(e){this.files=[],this.files.push(...e.addedFiles),this.fileChangeEvent(this.files[0])}onUpload(){this.croppedImage&&this.addFile.emit((0,A.Ll)(this.croppedImage))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photo-widget"]],outputs:{addFile:"addFile"},decls:17,vars:5,consts:[[1,"row"],[1,"col-4"],["ngx-dropzone","",1,"custom-dropzone",3,"change"],[1,"fas","fa-upload","fa-4x"],[1,"col-4","img-preview"],["format","png",1,"img-fluid",3,"imageChangedEvent","imageFile","maintainAspectRatio","aspectRatio","imageCropped"],[4,"ngIf"],[1,"img-fluid",3,"src"],[1,"btn-block","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Step 1 - Add Photo"),t.qZA(),t.TgZ(4,"div",2),t.NdJ("change",function(d){return n.onSelect(d)}),t.TgZ(5,"ngx-dropzone-label"),t._UZ(6,"i",3),t.TgZ(7,"h4"),t._uU(8,"Drop image here"),t.qZA()()()(),t.TgZ(9,"div",4)(10,"h3"),t._uU(11,"Step 2 - Resize image"),t.qZA(),t.TgZ(12,"image-cropper",5),t.NdJ("imageCropped",function(d){return n.imageCropped(d)}),t.qZA()(),t.TgZ(13,"div",1)(14,"h3"),t._uU(15,"Step 3 - Preview & Upload"),t.qZA(),t.YNc(16,W,4,1,"ng-container",6),t.qZA()()),2&e&&(t.xp6(12),t.Q6J("imageChangedEvent",n.imageChangedEvent)("imageFile",n.files[0])("maintainAspectRatio",!0)("aspectRatio",1),t.xp6(4),t.Q6J("ngIf",n.croppedImage))},directives:[P._f,P.NP,A.ap,p.O5],styles:[".custom-dropzone[_ngcontent-%COMP%]{border:3px dashed #eee;border-radius:5px;padding-top:30px;text-align:center;height:200px}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:3px solid green}"]}),o})();function $(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.TgZ(3,"div",10)(4,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw(2).setMainPhoto(d.id)}),t._uU(5," Set Main "),t.qZA(),t.TgZ(6,"button",12),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw(2).deletePhoto(d.id)}),t._UZ(7,"i",13),t._uU(8,"\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()()()()}if(2&o){const e=i.$implicit;t.xp6(2),t.s9C("src",e.pictureUrl,t.LSH),t.s9C("alt",e.fileName),t.xp6(2),t.Tol(e.isMain?"btn btn-success":"btn btn-outline-success"),t.Q6J("disabled",e.isMain),t.xp6(2),t.Q6J("disabled",e.isMain)}}function D(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"h3"),t._uU(3,"Product Photos"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPhotoModeToggle()}),t._uU(5," Add New Photo "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,$,9,7,"div",6),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",null==e.product?null:e.product.photos)}}function K(o,i){if(1&o&&(t.TgZ(0,"div",18),t._uU(1," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.TgZ(2,"div",19),t._uU(3),t.qZA(),t._uU(4," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij(" \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",e.progress,"% \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ")}}function X(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"h3",14),t._uU(3,"Add new product image"),t.qZA(),t.TgZ(4,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPhotoModeToggle()}),t._uU(5," Cancel "),t.qZA()(),t._uU(6," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.YNc(7,K,5,3,"div",16),t.TgZ(8,"app-photo-widget",17),t.NdJ("addFile",function(r){return t.CHM(e),t.oxw().uploadFile(r)}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.progress>0)}}let G=(()=>{class o{constructor(e,n){this.adminService=e,this.toast=n,this.product={},this.progress=0,this.addPhotoMode=!1}addPhotoModeToggle(){this.addPhotoMode=!this.addPhotoMode}uploadFile(e){this.adminService.uploadImage(e,this.product.id).subscribe({next:n=>{switch(n.type){case m.dt.UploadProgress:n.total&&(this.progress=Math.round(n.loaded/n.total*100));break;case m.dt.Response:this.product=n.body,setTimeout(()=>{this.progress=0,this.addPhotoMode=!1},1500)}},error:n=>{this.toast.error(n.errors?n.errors[0]:"Problem uploading image"),this.progress=0}})}deletePhoto(e){this.adminService.deleteProductPhoto(e,this.product.id).subscribe({next:()=>{const n=this.product.photos.findIndex(r=>r.id===e);this.product.photos.splice(n,1)},error:n=>{this.toast.error("Problem deleting photo"),console.log(n)}})}setMainPhoto(e){this.adminService.setMainPhoto(e,this.product.id).subscribe(n=>{this.product=n})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(V._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-product-photos"]],inputs:{product:"product"},decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[1,"card"],["width","100%","height","225",1,"card-img-top",3,"src","alt"],[1,"btn-group",2,"width","100%"],["type","button",2,"width","50%",3,"disabled","click"],["type","button",1,"btn","btn-outline-danger",2,"width","50%",3,"disabled","click"],[1,"fa","fa-trash"],[1,"text-primary"],[1,"btn","btn-outline-secondary",3,"click"],["class","progress form-group",4,"ngIf"],[3,"addFile"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,D,8,1,"ng-container",2),t.YNc(3,X,9,1,"ng-container",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",!n.addPhotoMode),t.xp6(1),t.Q6J("ngIf",n.addPhotoMode))},directives:[p.O5,p.sg,R],styles:[""]}),o})(),Z=(()=>{class o{constructor(e,n,r,d){this.adminService=e,this.shopService=n,this.route=r,this.router=d,this.product={},this.brands=[],this.types=[],this.productFormValues=new v}ngOnInit(){const e=this.getBrands(),n=this.getTypes();(0,N.D)([n,e]).subscribe({next:r=>{this.types=r[0],this.brands=r[1]},error:r=>console.log(r),complete:()=>{"edit"===this.route.snapshot.url[0].path&&this.loadProduct()}})}updatePrice(e){this.product.price=e}loadProduct(){this.shopService.getProduct(Number(this.route.snapshot.paramMap.get("id"))).subscribe(e=>{var n,r;const d=null===(n=this.brands.find(u=>u.name===e.productBrand))||void 0===n?void 0:n.id,s=null===(r=this.types.find(u=>u.name===e.productType))||void 0===r?void 0:r.id;this.product=e,d&&s&&(this.productFormValues=Object.assign(Object.assign({},e),{productBrandId:d,productTypeId:s}))})}getBrands(){return this.shopService.getBrand()}getTypes(){return this.shopService.getType()}onSubmit(e){if("edit"===this.route.snapshot.url[0].path){const n=Object.assign(Object.assign(Object.assign({},this.product),e),{price:+e.price});this.adminService.updateProduct(n,Number(this.route.snapshot.paramMap.get("id"))).subscribe(()=>{this.router.navigate(["/admin"])})}else{const n=Object.assign(Object.assign({},e),{price:+e.price});this.adminService.createProduct(n).subscribe(()=>{this.router.navigate(["/admin"])})}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(f.d),t.Y36(l.gz),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-product"]],decls:11,vars:4,consts:[[1,"product-edit","mt-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"tab-panel"],[1,"product-tabset"],["heading","Edit Product"],[1,"col-lg-8"],[3,"product","brands","types"],["heading","Edit Photos"],[3,"product"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"tabset",5)(6,"tab",6)(7,"div",7),t._UZ(8,"app-edit-product-form",8),t.qZA()(),t.TgZ(9,"tab",9),t._UZ(10,"app-edit-product-photos",10),t.qZA()()()()()()()),2&e&&(t.xp6(8),t.Q6J("product",n.productFormValues)("brands",n.brands)("types",n.types),t.xp6(2),t.Q6J("product",n.product))},directives:[b.AH,b.wW,L,G],styles:[""]}),o})();const tt=[{path:"",component:E},{path:"create",component:Z,data:{breadcrumb:"Create"}},{path:"edit/:id",component:Z,data:{breadcrumb:"Edit"}}];let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(tt)],l.Bz]}),o})(),ot=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,C.m,et]]}),o})()}}]);