{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/account/account.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/basket/basket.service.ts","./src/app/core/core.module.ts","./src/app/core/guards/admin.guard.ts","./src/app/core/guards/auth.guard.ts","./src/app/core/interceptors/error.interceptor.ts","./src/app/core/interceptors/jwt.interceptor.ts","./src/app/core/interceptors/loading.interceptors.ts","./src/app/core/nav-bar/nav-bar.component.html","./src/app/core/nav-bar/nav-bar.component.ts","./src/app/core/not-found/not-found.component.ts","./src/app/core/not-found/not-found.component.html","./src/app/core/section-header/section-header.component.html","./src/app/core/section-header/section-header.component.ts","./src/app/core/server-error/server-error.component.ts","./src/app/core/server-error/server-error.component.html","./src/app/core/services/busy.service.ts","./src/app/core/test-error/test-error.component.ts","./src/app/core/test-error/test-error.component.html","./src/app/shared/components/basket-summary/basket-summary.component.ts","./src/app/shared/components/basket-summary/basket-summary.component.html","./src/app/shared/components/order-totals/order-totals.component.ts","./src/app/shared/components/order-totals/order-totals.component.html","./src/app/shared/components/pager/pager.component.ts","./src/app/shared/components/pager/pager.component.html","./src/app/shared/components/paging-header/paging-header.component.ts","./src/app/shared/components/paging-header/paging-header.component.html","./src/app/shared/components/photo-widget/photo-widget.component.ts","./src/app/shared/components/photo-widget/photo-widget.component.html","./src/app/shared/components/stepper/stepper.component.ts","./src/app/shared/components/stepper/stepper.component.html","./src/app/shared/components/text-input/text-input.component.html","./src/app/shared/components/text-input/text-input.component.ts","./src/app/shared/models/basket.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, of, ReplaySubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { IAddress } from '../shared/models/address';\r\nimport { IUser } from '../shared/models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AccountService {\r\n  baseUrl = environment.apiUrl;\r\n  private currentUserSource = new ReplaySubject<IUser | null>(1);\r\n  currentUser$ = this.currentUserSource.asObservable();\r\n  private isAdminSource = new ReplaySubject<boolean>(1);\r\n  isAdmin$ = this.isAdminSource.asObservable();\r\n  constructor(private readonly http: HttpClient, private router: Router) { }\r\n\r\n\r\n  loadCurrentUser(token: string | null): Observable<any> {\r\n    if (!token) {\r\n      this.currentUserSource.next(null);\r\n      return of(null);\r\n    }\r\n\r\n    return this.http.get<IUser>(`${this.baseUrl}account`,).pipe(\r\n      map((user: IUser) => {\r\n        if (user) {\r\n          localStorage.setItem('token', user.token);\r\n          this.currentUserSource.next(user);\r\n          this.isAdminSource.next(this.isAdmin(user.token));\r\n\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n\r\n  login(value: any) {\r\n    return this.http.post<IUser>(this.baseUrl + 'account/login', value).pipe(\r\n      map((user: IUser) => {\r\n        if (user) {\r\n          localStorage.setItem('token', user.token);\r\n          this.currentUserSource.next(user);\r\n          this.isAdminSource.next(this.isAdmin(user.token));\r\n\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n  register(value: any) {\r\n    return this.http.post<IUser>(this.baseUrl + 'account/register', value).pipe(\r\n      map((user: IUser) => {\r\n        if (user) {\r\n          localStorage.setItem('token', user.token);\r\n          this.currentUserSource.next(user);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    this.currentUserSource.next(null);\r\n    this.isAdminSource.next(false);\r\n    void this.router.navigateByUrl('/');\r\n  }\r\n  checkEmailExists(email: string) {\r\n    return this.http.get(this.baseUrl + 'account/emailexists?email=' + email);\r\n  }\r\n\r\n\r\n  getUserAddress() {\r\n    return this.http.get<IAddress>(this.baseUrl + 'account/address');\r\n  }\r\n\r\n\r\n  updateUserAddress(address: IAddress) {\r\n    return this.http.put<IAddress>(this.baseUrl + 'account/address', address);\r\n  }\r\n\r\n\r\n  isAdmin(token: string): boolean {\r\n    if (!token) {\r\n      return false;\r\n    }\r\n    const decodedToken = JSON.parse(atob(token.split('.')[1]));\r\n    return decodedToken.role.indexOf('Admin') > -1;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AdminGuard } from './core/guards/admin.guard';\r\nimport { AuthGuard } from './core/guards/auth.guard';\r\nimport { NotFoundComponent } from './core/not-found/not-found.component';\r\nimport { ServerErrorComponent } from './core/server-error/server-error.component';\r\nimport { TestErrorComponent } from './core/test-error/test-error.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', pathMatch: 'full', redirectTo: '/home'},\r\n  { path: 'home',\r\n    loadChildren: () =>\r\n      import('./home/home.module').then((mod) => mod.HomeModule),\r\n    data: { breadcrumb: 'Home' } },\r\n  {\r\n    path: 'test-error',\r\n    component: TestErrorComponent,\r\n    data: { breadcrumb: 'Test Errors' },\r\n  },\r\n  {\r\n    path: 'server-error',\r\n    component: ServerErrorComponent,\r\n    data: { breadcrumb: 'Server Errors' },\r\n  },\r\n  {\r\n    path: 'not-found',\r\n    component: NotFoundComponent,\r\n    data: { breadcrumb: 'Not Found' },\r\n  },\r\n  {\r\n    path: 'shop',\r\n    loadChildren: () =>\r\n      import('./shop/shop.module').then((mod) => mod.ShopModule),\r\n    data: { breadcrumb: 'Shop' },\r\n  },\r\n  {\r\n    path: 'basket',\r\n    loadChildren: () =>\r\n      import('./basket/basket.module').then((mod) => mod.BasketModule),\r\n    data: { breadcrumb: 'Basket' },\r\n  },\r\n  {\r\n    path: 'checkout',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: () =>\r\n      import('./checkout/checkout.module').then((mod) => mod.CheckoutModule),\r\n    data: { breadcrumb: 'Checkout' },\r\n  },\r\n  {\r\n    path: 'orders',\r\n    canActivate: [AuthGuard],\r\n    loadChildren: () => import('./orders/orders.module')\r\n      .then(mod => mod.OrdersModule), data: { breadcrumb: 'Orders' }\r\n  },\r\n  {\r\n    path: 'account',\r\n    loadChildren: () =>\r\n      import('./account/account.module').then((mod) => mod.AccountModule),\r\n    data: { breadcrumb: {skip: true} }\r\n  },\r\n  {\r\n    path: 'admin',\r\n    canActivate: [AuthGuard, AdminGuard],\r\n    loadChildren: () => import('./admin/admin.module')\r\n      .then(mod => mod.AdminModule), data: { breadcrumb: 'Admin' }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AccountService } from './account/account.service';\r\nimport { BasketService } from './basket/basket.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'SkiNet';\r\n  constructor(private readonly basketService: BasketService, private readonly accountService: AccountService) { }\r\n  ngOnInit(): void {\r\n    this.loadBasket();\r\n    this.loadCurrentUser();\r\n  }\r\n\r\n\r\n  loadCurrentUser() {\r\n    const token = localStorage.getItem('token');\r\n    this.accountService.loadCurrentUser(token).subscribe({\r\n      next: () => console.log('load user'),\r\n      error: error => console.log(error)\r\n    });\r\n}\r\n\r\n  loadBasket() {\r\n    const basketId = localStorage.getItem('basketId');\r\n    if (basketId) {\r\n      this.basketService.getBasket(basketId).subscribe({\r\n        next: () => console.log('initial basket'),\r\n        error: error => console.log(error)\r\n      });\r\n    }\r\n  }\r\n}\r\n","<ngx-spinner>\r\n    <h3>Loading...</h3>\r\n</ngx-spinner>\r\n<app-nav-bar></app-nav-bar>\r\n<app-section-header></app-section-header>\r\n\r\n<div>\r\n    <!-- <app-shop></app-shop> -->\r\n    <router-outlet></router-outlet>\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS} from '@angular/common/http';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { CoreModule } from './core/core.module';\r\nimport { ErrorInterceptor } from './core/interceptors/error.interceptor';\r\nimport { NgxSpinnerModule } from 'ngx-spinner';\r\nimport { LoadingInterceptor } from './core/interceptors/loading.interceptors';\r\nimport { JwtInterceptor } from './core/interceptors/jwt.interceptor';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    CoreModule,\r\n    NgxSpinnerModule,\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: LoadingInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Basket, IBasket, IBasketItem, IBasketQuantity, IBasketTotals } from '../shared/models/basket';\r\nimport { IDeliveryMethod } from '../shared/models/deliveryMethod';\r\nimport { IProduct } from '../shared/models/product';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BasketService {\r\n  baseUrl = environment.apiUrl;\r\n  private basketSource = new BehaviorSubject<IBasket | null>(null);\r\n  basket$ = this.basketSource.asObservable();\r\n  private basketTotalPriceSource = new BehaviorSubject<IBasketTotals | null>(null);\r\n  basketTotalPrice$ = this.basketTotalPriceSource.asObservable();\r\n  private basketTotalQuantitySource = new BehaviorSubject<IBasketQuantity | null>(null);\r\n  basketTotalQuantity$ = this.basketTotalQuantitySource.asObservable();\r\n  shipping = 0;\r\n\r\n  constructor(private readonly http: HttpClient) { }\r\n\r\n  createPaymentIntent() {\r\n    return this.http.post<IBasket>(this.baseUrl + 'payments/' + this.getCurrentBasketValue()?.id, {}).pipe(\r\n      map((basket: IBasket) => {\r\n        if (basket) {\r\n          this.basketSource.next(basket);\r\n        }\r\n      })\r\n    );\r\n  }\r\n  setShippingPrice(deliveryMethod: IDeliveryMethod) {\r\n    this.shipping = deliveryMethod.price;\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      basket.deliveryMethodId = deliveryMethod.id;\r\n      this.calculateTotalPrice();\r\n      this.setBasket(basket);\r\n    }\r\n  }\r\n  getBasket(id: string) {\r\n    return this.http.get<IBasket>(this.baseUrl + 'basket?id=' + id).pipe(\r\n      map((basket: IBasket) => {\r\n        this.basketSource.next(basket);\r\n        this.shipping = basket.shippingPrice ?? 0;\r\n        this.calculateTotalPrice();\r\n        this.calculateTotalQuantity();\r\n      })\r\n    );\r\n  }\r\n  calculateTotalQuantity() {\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      const quantity = basket.items.reduce(\r\n        (sum, item) => sum + item.quantity,\r\n        0\r\n      );\r\n      this.basketTotalQuantitySource.next({ quantity });\r\n    }\r\n  }\r\n  setBasket(basket: IBasket) {\r\n    return this.http.post<IBasket>(this.baseUrl + 'basket', basket).subscribe(\r\n      (response: IBasket) => {\r\n        this.basketSource.next(response);\r\n        this.calculateTotalPrice();\r\n        this.calculateTotalQuantity();\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n  getCurrentBasketValue() {\r\n    return this.basketSource.value;\r\n  }\r\n  addItemToBasket(item: IProduct, quantity = 1) {\r\n    const itemToAdd: IBasketItem = this.mapProductItemToBasketItem(\r\n      item,\r\n      quantity\r\n    );\r\n    const basket = this.getCurrentBasketValue() ?? this.createBasket();\r\n    basket.items = this.addOrUpdateItem(basket.items, itemToAdd, quantity);\r\n    this.setBasket(basket);\r\n  }\r\n  incrementItemQuantity(item: IBasketItem) {\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      const foundItemIndex = basket.items.findIndex((x) => x.id === item.id);\r\n      basket.items[foundItemIndex].quantity++;\r\n      this.setBasket(basket);\r\n    }\r\n  }\r\n  decrementItemQuantity(item: IBasketItem) {\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      const foundItemIndex = basket.items.findIndex((x) => x.id === item.id);\r\n      if (basket.items[foundItemIndex].quantity >= 1) {\r\n        basket.items[foundItemIndex].quantity--;\r\n        this.setBasket(basket);\r\n      } else {\r\n        this.removeItemFromBasket(item);\r\n      }\r\n    }\r\n  }\r\n  removeItemFromBasket(item: IBasketItem) {\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      if (basket.items.some(x => x.id === item.id)) {\r\n        basket.items = basket.items.filter(x => x.id !== item.id);\r\n        if (basket.items.length > 0) {\r\n          this.setBasket(basket);\r\n        } else {\r\n          this.deleteBasket(basket);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteBasket(basket: IBasket) {\r\n    return this.http.delete(this.baseUrl + 'basket?id=' + basket.id).subscribe(() => {\r\n      this.basketSource.next(null);\r\n      this.basketTotalPriceSource.next(null);\r\n      this.basketTotalQuantitySource.next(null);\r\n      localStorage.removeItem('basketId');\r\n    }, error => console.log(error));\r\n  }\r\n  private calculateTotalPrice() {\r\n    const basket = this.getCurrentBasketValue();\r\n    if (basket) {\r\n      const shipping = this.shipping;\r\n      const subtotal = basket.items.reduce(\r\n        (sum, item) => sum + item.price * item.quantity,\r\n        0\r\n      );\r\n      const total = subtotal + shipping;\r\n      this.basketTotalPriceSource.next({ shipping, total, subtotal });\r\n    }\r\n  }\r\n  private addOrUpdateItem(\r\n    items: IBasketItem[],\r\n    itemToAdd: IBasketItem,\r\n    quantity: number\r\n  ): IBasketItem[] {\r\n    if (!items) {\r\n      items = [];\r\n      itemToAdd.quantity = quantity;\r\n      items.push(itemToAdd);\r\n    } else {\r\n      const index = items.findIndex((i) => i.id === itemToAdd.id);\r\n      if (index === -1) {\r\n        itemToAdd.quantity = quantity;\r\n        items.push(itemToAdd);\r\n      } else {\r\n        items[index].quantity += quantity;\r\n      }\r\n    }\r\n    return items;\r\n  }\r\n  private createBasket(): IBasket {\r\n    const basket = new Basket();\r\n    localStorage.setItem('basketId', basket.id);\r\n    return basket;\r\n  }\r\n  private mapProductItemToBasketItem(\r\n    item: IProduct,\r\n    quantity: number\r\n  ): IBasketItem {\r\n    return {\r\n      id: item.id,\r\n      productName: item.name,\r\n      price: item.price,\r\n      pictureUrl: item.pictureUrl,\r\n      quantity,\r\n      brand: item.productBrand,\r\n      type: item.productType,\r\n    };\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NavBarComponent } from './nav-bar/nav-bar.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TestErrorComponent } from './test-error/test-error.component';\r\nimport { ServerErrorComponent } from './server-error/server-error.component';\r\nimport { NotFoundComponent } from './not-found/not-found.component';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { SectionHeaderComponent } from './section-header/section-header.component';\r\nimport { BreadcrumbModule } from 'xng-breadcrumb';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [NavBarComponent, TestErrorComponent, ServerErrorComponent, NotFoundComponent, SectionHeaderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    BrowserAnimationsModule,\r\n    BreadcrumbModule,\r\n    SharedModule,\r\n    ToastrModule.forRoot({\r\n      positionClass: 'toast-bottom-right',\r\n      preventDuplicates: true\r\n    })\r\n  ],\r\n  exports: [NavBarComponent, SectionHeaderComponent]\r\n})\r\nexport class CoreModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { AccountService } from '../../account/account.service';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdminGuard implements CanActivate {\r\n  constructor(private readonly accountService: AccountService, private readonly router: Router) {\r\n  }\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean> {\r\n    return this.accountService.isAdmin$.pipe(\r\n      map(admin => {\r\n        if (!admin) {\r\n          void this.router.navigateByUrl('/');\r\n        }\r\n        return !!admin;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AccountService } from 'src/app/account/account.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private readonly accountService: AccountService, private readonly router: Router) { }\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean> {\r\n    return this.accountService.currentUser$.pipe(\r\n      map(auth => {\r\n        if (!auth) {\r\n          void this.router.navigate(['account/login'], { queryParams: { returnUrl: state.url } });\r\n        }\r\n        return !!auth;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import {\r\n  HttpEvent,\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n} from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n  constructor(private readonly router: Router, private readonly toastr: ToastrService) { }\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    return next.handle(req).pipe(\r\n      catchError((error) => {\r\n        if (error) {\r\n          if (error.status === 400) {\r\n            if (error.error.errors) {\r\n              throw error.error;\r\n            } else {\r\n              this.toastr.error(error.error.message, error.error.statusCode);\r\n            }\r\n          }\r\n          if (error.status === 401) {\r\n            this.toastr.error(error.error.message, error.error.statusCode);\r\n          }\r\n          if (error.status === 404) {\r\n            this.router.navigateByUrl('/not-found');\r\n          }\r\n          if (error.status === 500) {\r\n            this.router.navigateByUrl('/server-error');\r\n          }\r\n        }\r\n        return throwError(error);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\r\n    const token = localStorage.getItem('token');\r\n    if (token){\r\n      request = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n    }\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { delay, finalize } from 'rxjs/operators';\r\nimport { BusyService } from '../services/busy.service';\r\n\r\n@Injectable()\r\nexport class LoadingInterceptor implements HttpInterceptor {\r\n    constructor(private readonly busyService: BusyService) { }\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        if (req.method === 'POST' && req.url.includes('orders'))\r\n        if (req.url.includes('emailexists')) {\r\n            return next.handle(req);\r\n        }\r\n        return next.handle(req).pipe(\r\n            delay(300),\r\n            finalize(() => {\r\n                this.busyService.idle();\r\n            })\r\n        );\r\n    }\r\n}\r\n","<div\r\n    class=\"d-flex flex-column flex-md-row align-items-center justify-content-between p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm fixed-top\">\r\n    <img src=\"/assets/images/logo.png\" style=\"max-height: 70px;\" alt=\"logo\" routerLink=\"/\" class=\"logo\">\r\n    <nav class=\"my-2 my-md-0 ms-md-3 text-uppercase\" style=\"font-size: larger;\">\r\n        <a class=\"p-2\" [routerLink]=\"['/']\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact: true}\">Home</a>\r\n        <a class=\"p-2\" routerLink=\"/shop\" routerLinkActive=\"active\">Shop</a>\r\n        <ng-container *ngIf=\"(isAdmin$ | async)\">\r\n            <a class=\"p-2\" routerLink=\"/test-error\" routerLinkActive=\"active\">Errors</a>\r\n            <a class=\"p-2\" routerLink=\"/admin\" routerLinkActive=\"active\">Admin</a>\r\n        </ng-container>\r\n\r\n    </nav>\r\n    <div class=\"d-flex align-items-center\">\r\n        <a routerLink=\"/basket\" class=\"position-relative\">\r\n            <i class=\"fas fa-shopping-cart ms-5 text-dark cart\"></i>\r\n            <div *ngIf=\"(basket$ | async) as basket\">\r\n                <div *ngIf=\"(basketTotalQuantity$ | async) as totalQuantity\" class=\"cart-no\">\r\n                    {{totalQuantity.quantity}}\r\n                </div>\r\n            </div>\r\n        </a>\r\n        <ng-template #loading>\r\n            <a routerLink=\"/account/login\" class=\"btn btn-outline-secondary ms-2\">Login</a>\r\n            <a routerLink=\"/account/register\" class=\"btn btn-outline-secondary ms-3\">Sign up</a>\r\n        </ng-template>\r\n\r\n        <ng-container *ngIf=\"(currentUser$ | async) as currentUser; else loading\">\r\n            <div class=\"dropdown ms-3 ms-5\" dropdown>\r\n                <a class=\"dropdown-toggle\" style=\"cursor:pointer\" dropdownToggle>\r\n                    <strong>Welcome {{currentUser.displayName}}</strong>\r\n                </a>\r\n                <div class=\"dropdown-menu dropdown-menu-right\" style=\"cursor: pointer;\" *dropdownMenu>\r\n                    <a routerLink=\"/basket\" class=\"dropdown-item d-flex align-items-center py-2\">\r\n                        <i class=\"fas fa-shopping-cart ms-3\"></i> View Basket\r\n                    </a>\r\n                    <a routerLink=\"/orders\" class=\"dropdown-item d-flex align-items-center py-2\">\r\n                        <i class=\"fas fa-history ms-3\"></i> View Orders\r\n                    </a>\r\n                    <div class=\"dropdown-divider\"></div>\r\n                    <a (click)=\"logout()\" class=\"dropdown-item d-flex align-items-center py-2\">\r\n                        <i class=\"fas fa-sign-out-alt ms-3\"></i> Log Out\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { AccountService } from 'src/app/account/account.service';\r\nimport { BasketService } from 'src/app/basket/basket.service';\r\nimport { IBasket, IBasketQuantity } from 'src/app/shared/models/basket';\r\nimport { IUser } from 'src/app/shared/models/user';\r\n\r\n@Component({\r\n  selector: 'app-nav-bar',\r\n  templateUrl: './nav-bar.component.html',\r\n  styleUrls: ['./nav-bar.component.scss']\r\n})\r\nexport class NavBarComponent implements OnInit {\r\n\r\n  basket$!: Observable<IBasket | null>;\r\n  currentUser$!: Observable<IUser | null>;\r\n  basketTotalQuantity$!: Observable<IBasketQuantity | null>;\r\n  isAdmin$!: Observable<boolean>;\r\n\r\n  constructor(private readonly basketService: BasketService, private readonly accountService: AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.basket$ = this.basketService.basket$;\r\n    this.currentUser$ = this.accountService.currentUser$;\r\n    this.basketTotalQuantity$ = this.basketService.basketTotalQuantity$;\r\n    this.isAdmin$ = this.accountService.isAdmin$;\r\n\r\n  }\r\n  logout() {\r\n    this.accountService.logout();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-not-found',\r\n  templateUrl: './not-found.component.html',\r\n  styleUrls: ['./not-found.component.scss']\r\n})\r\nexport class NotFoundComponent{\r\n\r\n  constructor() { }\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n    <h1>Not Found</h1>\r\n</div>","\r\n<ng-container *ngIf=\"(breadcrumb$ | async) as breadcrumbs\">\r\n    <section *ngIf=\"breadcrumbs.length > 0 && breadcrumbs[breadcrumbs.length-1].label !== 'Home'\" \r\n        class=\"py-5\" style=\"margin-top: 105px; background-color: #f5f5f5;\">\r\n        <div class=\"container\">\r\n            <div class=\"row d-flex align-items-center\">\r\n                <div class=\"col-9\">\r\n                    <h1>{{breadcrumbs.length > 0 && breadcrumbs[breadcrumbs.length-1].label | titlecase}}</h1>\r\n                </div>\r\n                <div class=\"col-3\">\r\n                <xng-breadcrumb></xng-breadcrumb>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</ng-container>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { BreadcrumbService } from 'xng-breadcrumb';\r\n\r\n@Component({\r\n  selector: 'app-section-header',\r\n  templateUrl: './section-header.component.html',\r\n  styleUrls: ['./section-header.component.scss'],\r\n})\r\nexport class SectionHeaderComponent implements OnInit {\r\n  breadcrumb$!: Observable<any[]>;\r\n  constructor(private readonly bcService: BreadcrumbService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.breadcrumb$ = this.bcService.breadcrumbs$;\r\n  }\r\n}\r\n","import { Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-server-error',\r\n  templateUrl: './server-error.component.html',\r\n  styleUrls: ['./server-error.component.scss']\r\n})\r\nexport class ServerErrorComponent {\r\n\r\n  constructor() { }\r\n}\r\n","<div class=\"container mt-5\">\r\n    <h1>Internal Server Error</h1>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BusyService {\r\n  busyRequestCount = 0;\r\n  constructor(private readonly spinnerService: NgxSpinnerService) { }\r\n  busy() {\r\n    this.busyRequestCount++;\r\n    void this.spinnerService.show(undefined, {\r\n      type: 'timer',\r\n      bdColor: 'rgba(255, 255, 255, 0.7)',\r\n      color: '#333333'\r\n    });\r\n  }\r\n  idle() {\r\n    this.busyRequestCount--;\r\n    if (this.busyRequestCount <= 0) {\r\n      this.busyRequestCount = 0;\r\n      void this.spinnerService.hide();\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-test-error',\r\n  templateUrl: './test-error.component.html',\r\n  styleUrls: ['./test-error.component.scss'],\r\n})\r\nexport class TestErrorComponent {\r\n  baseUrl = environment.apiUrl;\r\n  validationErrors: any;\r\n  constructor(private readonly http: HttpClient) { }\r\n\r\n  get404Error() {\r\n    this.http.get(this.baseUrl + 'products/42').subscribe({\r\n      next: (response) => console.log(response),\r\n      error: (error) => console.log(error)\r\n    });\r\n  }\r\n  get500Error() {\r\n    this.http.get(this.baseUrl + 'buggy/servererror').subscribe({\r\n      next: (response) => console.log(response),\r\n      error: (error) => console.log(error)\r\n    });\r\n  }\r\n\r\n  get400Error() {\r\n    this.http.get(this.baseUrl + 'buggy/badrequest').subscribe({\r\n      next: (response) => console.log(response),\r\n      error: (error) => console.log(error)\r\n    });\r\n  }\r\n  get400ValidationError() {\r\n    this.http.get(this.baseUrl + 'products/fortytwo').subscribe({\r\n      next: (response) => console.log(response),\r\n      error: (error) => {\r\n        console.log(error);\r\n        this.validationErrors = error.errors;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container mt-5\">\r\n    <button (click)=\"get500Error()\" class=\"btn btn-outline-primary ms-3\">Test 500 Error</button>\r\n    <button (click)=\"get404Error()\" class=\"btn btn-outline-primary ms-3\">Test 404 Error</button>\r\n    <button (click)=\"get400Error()\" class=\"btn btn-outline-primary ms-3\">Test 400 Error</button>\r\n    <button (click)=\"get400ValidationError()\" class=\"btn btn-outline-primary ms-3\">Test 500 Validation</button>\r\n    <div class=\"div row mt-5\" *ngIf=\"validationErrors\">\r\n        <ul class=\"text-danger\">\r\n            <li *ngFor=\"let error of validationErrors\">{{error}}</li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { IBasketItem } from '../../models/basket';\r\n\r\n@Component({\r\n  selector: 'app-basket-summary',\r\n  templateUrl: './basket-summary.component.html',\r\n  styleUrls: ['./basket-summary.component.scss']\r\n})\r\nexport class BasketSummaryComponent {\r\n\r\n  @Input() isBasket = true;\r\n  @Input() isOrder = false;\r\n  @Input() items: any;\r\n  @Output() decrement: EventEmitter<IBasketItem> = new EventEmitter<IBasketItem>();\r\n  @Output() increment: EventEmitter<IBasketItem> = new EventEmitter<IBasketItem>();\r\n  @Output() remove: EventEmitter<IBasketItem> = new EventEmitter<IBasketItem>();\r\n  constructor() { }\r\n  removeBasketItem(item: IBasketItem) {\r\n    this.remove.emit(item);\r\n  }\r\n  decrementItemQuantity(item: IBasketItem) {\r\n    this.decrement.emit(item);\r\n  }\r\n  incrementItemQuantity(item: IBasketItem) {\r\n    this.increment.emit(item);\r\n  }\r\n\r\n}\r\n","<ng-container *ngIf=\"items.length > 0\">\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table table-borderless\">\r\n      <thead [class.thead-light]=\"isBasket || isOrder\" class=\"border-0 py-2\">\r\n        <tr>\r\n          <th scope=\"col\">\r\n            <div class=\"p-2 px-3 text-uppercase\">Product</div>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <div class=\"py-2 text-uppercase\">Price</div>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <div class=\"py-2 text-uppercase\">Quantity</div>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <div class=\"py-2 text-uppercase\">Total</div>\r\n          </th>\r\n          <th *ngIf=\"isBasket\" scope=\"col\">\r\n            <div class=\"py-2 text-uppercase\">Remove</div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let item of items\">\r\n          <th scope=\"row\">\r\n            <div class=\"p-0 d-flex\">\r\n              <img src=\"{{ item.pictureUrl }}\" alt=\"{{ item.productName }}\" class=\"img-fluid \" style=\"max-height: 50px\">\r\n              <div class=\"ms-3 d-inline-block align-middle\">\r\n                <h5 class=\"mb-0\">\r\n                  <a routerLink=\"/shop/{{ item.id }}\" class=\"text-dark\">\r\n                    {{ item.productName }}</a>\r\n                </h5>\r\n                <span\r\n                  *ngIf=\"item.type\"\r\n                  class=\"text-muted font-weight-normal font-italic d-block\">\r\n                  Type: {{ item.type }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n          <td class=\"align-middle\">\r\n            <strong>\r\n              {{ item.price | currency }}\r\n            </strong>\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            <div class=\"d-flex align-items-center\" [class.justify-content-center]=\"!isBasket\">\r\n              <i *ngIf=\"isBasket\" (click)=\"decrementItemQuantity(item)\" class=\"fas fa-minus-circle text-warning ms-2\"\r\n                style=\"cursor: pointer; font-size: 2em\"></i>\r\n              <span class=\"font-weight-bold\" style=\"font-size: 1.5em\">{{ item.quantity }}</span>\r\n              <i *ngIf=\"isBasket\" (click)=\"incrementItemQuantity(item)\" class=\"fas fa-plus-circle text-warning mx-2\"\r\n                style=\"cursor: pointer; font-size: 2em\"></i>\r\n            </div>\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            <strong>{{\r\n              item.price * item.quantity | currency\r\n              }}</strong>\r\n          </td>\r\n          <td class=\"align-middle text-center\">\r\n            <a class=\"text-danger\">\r\n              <i *ngIf=\"isBasket\" (click)=\"removeBasketItem(item)\" class=\"fas fa-trash\" style=\"font-size: 1.5em; cursor: pointer\"></i>\r\n            </a>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n</ng-container>\r\n\r\n","import { Component, Input } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'app-order-totals',\r\n  templateUrl: './order-totals.component.html',\r\n  styleUrls: ['./order-totals.component.scss']\r\n})\r\nexport class OrderTotalsComponent {\r\n  @Input() shippingPrice = 0;\r\n  @Input() subtotal = 0;\r\n  @Input() total = 0;\r\n  constructor() { }\r\n}\r\n","<div class=\"bg-light px-4 px-3 py-3 text-uppercase font-weight-bold\">\r\n    Order Summary\r\n</div>\r\n<div class=\"p-4\">\r\n    <p class=\"font-italic mb-4\">\r\n        Shipping costs will be added depending on choices made during checkout\r\n    </p>\r\n    <ul class=\"list-unstyled mb-4\">\r\n        <li class=\"d-flex justify-content-between py-3 border-bottom\">\r\n            <strong class=\"text-muted\">Order subtotal</strong>\r\n            <strong>{{subtotal | currency}}</strong>\r\n        </li>\r\n         <li class=\"d-flex justify-content-between py-3 border-bottom\">\r\n            <strong class=\"text-muted\">Shipping and handling</strong>\r\n            <strong>{{shippingPrice | currency}}</strong>\r\n        </li>\r\n         <li class=\"d-flex justify-content-between py-3 border-bottom\">\r\n            <strong class=\"text-muted\">Total</strong>\r\n            <strong>{{total | currency}}</strong>\r\n        </li>\r\n    </ul>\r\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pager',\r\n  templateUrl: './pager.component.html',\r\n  styleUrls: ['./pager.component.scss'],\r\n})\r\n\r\nexport class PagerComponent {\r\n  @Input() totalCount!: number;\r\n  @Input() pageSize!: number;\r\n  @Input() pageIndex!: number;\r\n  @Output() pageChanged = new EventEmitter<number>();\r\n  constructor() {}\r\n  onPaperChange(event: any) {\r\n    this.pageChanged.emit(event.page);\r\n  }\r\n}\r\n","    <pagination \r\n        [boundaryLinks]=\"true\" \r\n        [totalItems]=\"totalCount\"\r\n        [(ngModel)]=\"pageIndex\"\r\n        (pageChanged)=\"onPaperChange($event)\"\r\n        [itemsPerPage]=\"this.pageSize\" \r\n        previousText=\"&lsaquo;\" \r\n        nextText=\"&rsaquo;\" \r\n        firstText=\"&laquo;\"\r\n        lastText=\"&raquo;\">\r\n    </pagination>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-paging-header',\r\n  templateUrl: './paging-header.component.html',\r\n  styleUrls: ['./paging-header.component.scss']\r\n})\r\nexport class PagingHeaderComponent{\r\n  @Input() pageNumber = 1;\r\n  @Input() pageSize = 6;\r\n  @Input() totalCount = 0;\r\n  constructor() { }\r\n\r\n}\r\n","<header>\r\n    <span *ngIf=\"totalCount === 0 || pageSize*(pageNumber-1) > totalCount; else hasResult\">\r\n        There are <strong>0</strong> results for this filters\r\n    </span>\r\n\r\n    <ng-template #hasResult>\r\n        <span *ngIf=\"totalCount && totalCount > 0\">Showing\r\n            <strong>\r\n                {{pageSize*(pageNumber-1)+1}} -\r\n                {{pageNumber * pageSize\r\n                > totalCount\r\n                ? totalCount\r\n                : pageNumber * pageSize}}\r\n            </strong> of <strong>{{totalCount}}</strong> results</span>\r\n    </ng-template>\r\n</header>","import { Component, EventEmitter, Output} from '@angular/core';\r\nimport { NgxDropzoneChangeEvent } from 'ngx-dropzone';\r\nimport { ImageCroppedEvent, base64ToFile} from 'ngx-image-cropper';\r\n\r\n@Component({\r\n  selector: 'app-photo-widget',\r\n  templateUrl: './photo-widget.component.html',\r\n  styleUrls: ['./photo-widget.component.scss']\r\n})\r\nexport class PhotoWidgetComponent {\r\n  @Output() addFile = new EventEmitter();\r\n  files: File[] = [];\r\n  imageChangedEvent: any = '';\r\n  croppedImage: string | null = null;\r\n\r\n  constructor() { }\r\n\r\n  fileChangeEvent(file: File): void {\r\n    this.imageChangedEvent = file;\r\n  }\r\n\r\n  imageCropped(event: ImageCroppedEvent) {\r\n    this.croppedImage = event.base64 ?? null;\r\n  }\r\n\r\n  onSelect(event: NgxDropzoneChangeEvent) {\r\n    this.files = [];\r\n    this.files.push(...event.addedFiles);\r\n    this.fileChangeEvent(this.files[0]);\r\n  }\r\n\r\n  onUpload() {\r\n    if (this.croppedImage) {\r\n      this.addFile.emit(base64ToFile(this.croppedImage));\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-4\">\r\n    <h3>Step 1 - Add Photo</h3>\r\n    <div class=\"custom-dropzone\" ngx-dropzone (change)=\"onSelect($event)\">\r\n      <ngx-dropzone-label>\r\n        <i class=\"fas fa-upload fa-4x\"></i>\r\n        <h4>Drop image here</h4>\r\n      </ngx-dropzone-label>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-4 img-preview\">\r\n    <h3>Step 2 - Resize image</h3>\r\n    <image-cropper\r\n      class=\"img-fluid\"\r\n      [imageChangedEvent]=\"imageChangedEvent\"\r\n      [imageFile]=\"files[0]\"\r\n      [maintainAspectRatio]=\"true\"\r\n      [aspectRatio]=\"1\"\r\n      format=\"png\"\r\n      (imageCropped)=\"imageCropped($event)\"\r\n    >\r\n    </image-cropper>\r\n  </div>\r\n  <div class=\"col-4\">\r\n    <h3>Step 3 - Preview & Upload</h3>\r\n    <ng-container *ngIf=\"croppedImage\">\r\n      <img [src]=\"croppedImage\" class=\"img-fluid\">\r\n      <button class=\"btn-block btn-primary\" (click)=\"onUpload()\">\r\n        Upload Image\r\n      </button>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { CdkStepper } from '@angular/cdk/stepper';\r\n\r\n@Component({\r\n  selector: 'app-stepper',\r\n  templateUrl: './stepper.component.html',\r\n  styleUrls: ['./stepper.component.scss'],\r\n  providers: [{provide: CdkStepper , useExisting: StepperComponent}]\r\n})\r\nexport class StepperComponent extends CdkStepper implements OnInit {\r\n  @Input() linearModeSelected = false;\r\n\r\n  ngOnInit(): void {\r\n    this.linear = this.linearModeSelected;\r\n  }\r\n  onClick(index: number) {\r\n    this.selectedIndex = index;\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <ul class=\"nav nav-pills nav-justified\">\r\n        <li class=\"nav-item\" *ngFor=\"let step of steps; let i = index\">\r\n            <button\r\n                (click)=\"onClick(i)\"\r\n                [class.active]=\"selectedIndex === i\"\r\n                class=\"nav-link py-3 text-uppercase font-weight-bold btn-block\"\r\n                style=\"padding: 1.20em;\">\r\n                {{step.label}}\r\n            </button>\r\n        </li>\r\n    </ul>\r\n    <div>\r\n        <ng-container [ngTemplateOutlet]=\"selected?.content ?? null\"></ng-container>\r\n    </div>\r\n</div>"," <div class=\"form-label-group\">\r\n    <input\r\n        [ngClass]=\"(controlDir && controlDir?.control &&\r\n        controlDir?.control?.touched) ? !controlDir?.control?.valid ? 'is-invalid': 'is-valid': 'null'\"\r\n        [type]=\"type\"\r\n        (input)=\"onChange($any($event.target).value)\"\r\n        (blur)=\"onTouched()\"\r\n        id=\"{{label}}\"\r\n        #input\r\n        class=\"form-control\"\r\n        placeholder=\"{{label}}\" >\r\n\r\n    <div *ngIf=\"controlDir && controlDir.control && controlDir.control.status === 'PENDING'\">\r\n        <i class=\"fas fa-spinner fa-spin loader\"></i>\r\n    </div>\r\n    <label for=\"{{label}}\">{{label}}</label>\r\n    <div class=\"invalid-feedback\" *ngIf=\"(controlDir && controlDir.control && !controlDir.control.valid &&\r\n        controlDir.control.touched)\" >\r\n        <span *ngIf=\"controlDir.control.errors?.['required']\">{{label}} is required</span>\r\n        <span *ngIf=\"controlDir.control.errors?.['pattern']\">Invalid email pattern</span>\r\n        <span *ngIf=\"controlDir.control.errors?.['emailExists']\">Email address is in use</span>\r\n\r\n    </div>\r\n    <div class=\"invalid-feedback d-block\" *ngIf=\"(controlDir && controlDir.control\r\n    && !controlDir.control.valid && controlDir.control.dirty)\">\r\n        <span *ngIf=\"controlDir.control.errors?.['emailExists']\">Email address is in use</span>\r\n    </div>\r\n</div>\r\n","import { Component, ElementRef, Input, OnInit, Self, ViewChild } from '@angular/core';\r\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-text-input',\r\n  templateUrl: './text-input.component.html',\r\n  styleUrls: ['./text-input.component.scss'],\r\n})\r\nexport class TextInputComponent implements OnInit, ControlValueAccessor {\r\n  @ViewChild('input', { static: true }) input!: ElementRef;\r\n  @Input() type = 'text';\r\n  @Input() label!: string;\r\n  constructor(@Self() public controlDir: NgControl) {\r\n    this.controlDir.valueAccessor = this;\r\n  }\r\n  ngOnInit(): void {\r\n    const control = this.controlDir.control;\r\n    const validators = control?.validator ?? [];\r\n    const asyncValidators = control?.asyncValidator ?? [];\r\n\r\n    control?.setValidators(validators);\r\n    control?.setAsyncValidators(asyncValidators);\r\n    control?.updateValueAndValidity();\r\n\r\n  }\r\n  onChange(event: any) {\r\n  }\r\n  onTouched(){}\r\n  writeValue(obj: any): void {\r\n    this.input.nativeElement.value = obj || '';\r\n  }\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\nexport interface IBasket {\r\n  id: string;\r\n  items: IBasketItem[];\r\n  clientSecret?: string;\r\n  paymentIntentId?: string;\r\n  deliveryMethodId?: number;\r\n  shippingPrice?: number;\r\n}\r\n\r\nexport interface IBasketItem {\r\n  id: number;\r\n  productName: string;\r\n  price: number;\r\n  quantity: number;\r\n  pictureUrl: string;\r\n  brand: string;\r\n  type: string;\r\n}\r\nexport class Basket implements IBasket {\r\n  id = uuidv4();\r\n  items: IBasketItem[] = [];\r\n}\r\nexport interface IBasketTotals {\r\n  shipping: number;\r\n  subtotal: number;\r\n  total: number;\r\n}\r\nexport interface IBasketQuantity{\r\n  quantity: number;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PaginationModule, } from 'ngx-bootstrap/pagination';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { PagingHeaderComponent } from './components/paging-header/paging-header.component';\r\nimport { PagerComponent } from './components/pager/pager.component';\r\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\r\nimport { OrderTotalsComponent } from './components/order-totals/order-totals.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TextInputComponent } from './components/text-input/text-input.component';\r\nimport { CdkStepperModule } from '@angular/cdk/stepper';\r\nimport { StepperComponent } from './components/stepper/stepper.component';\r\nimport { BasketSummaryComponent } from './components/basket-summary/basket-summary.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CurrencyMaskModule } from 'ng2-currency-mask';\r\nimport { NgxGalleryModule } from '@kolkov/ngx-gallery';\r\nimport { PhotoWidgetComponent } from './components/photo-widget/photo-widget.component';\r\nimport { NgxDropzoneModule } from 'ngx-dropzone';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PagingHeaderComponent,\r\n    PagerComponent,\r\n    OrderTotalsComponent,\r\n    TextInputComponent,\r\n    StepperComponent,\r\n    BasketSummaryComponent,\r\n    PhotoWidgetComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    PaginationModule.forRoot(),\r\n    CarouselModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CdkStepperModule,\r\n    RouterModule,\r\n    CurrencyMaskModule,\r\n    NgxGalleryModule,\r\n    TabsModule.forRoot(),\r\n    NgxDropzoneModule,\r\n    ImageCropperModule\r\n  ],\r\n  exports: [\r\n    PaginationModule,\r\n    PagingHeaderComponent,\r\n    PagerComponent,\r\n    CarouselModule,\r\n    OrderTotalsComponent,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    BsDropdownModule,\r\n    TextInputComponent,\r\n    CdkStepperModule,\r\n    StepperComponent,\r\n    BasketSummaryComponent,\r\n    CurrencyMaskModule,\r\n    NgxGalleryModule,\r\n    TabsModule,\r\n    NgxDropzoneModule,\r\n    ImageCropperModule,\r\n    PhotoWidgetComponent\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  apiUrl: 'https://localhost:5001/api/'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["i0","NavBarComponent","constructor","basketService","accountService","ngOnInit","basket$","currentUser$","basketTotalQuantity$","isAdmin$","logout","selectors","decls","vars","consts","template","_r2","SectionHeaderComponent","bcService","breadcrumb$","breadcrumbs$","TextInputComponent","controlDir","valueAccessor","control","validators","validator","asyncValidators","asyncValidator","setValidators","setAsyncValidators","updateValueAndValidity","onChange","event","onTouched","writeValue","obj","input","nativeElement","value","registerOnChange","fn","registerOnTouched","viewQuery","ctx"],"sourceRoot":"webpack:///"}